(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d921f90"],{"262f":function(s,t,e){"use strict";e("7cc9")},"3bea":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[s.newUserActive?e("Modal",{on:{close:function(t){s.newUserActive=!1}}},[e("NewUser",{on:{close:function(t){s.newUserActive=!1}}})],1):s._e(),e("div",{staticClass:"columns is-desktop",attrs:{id:"background"}},[e("div",{staticClass:"column is-4 is-offset-4"},[e("div",{staticClass:"box",attrs:{id:"login"}},[e("h1",{staticClass:"title"},[s._v("Sign in")]),e("hr"),e("form",{on:{submit:function(t){return t.preventDefault(),s.userLogin()}}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Username")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.username,expression:"username"}],staticClass:"input",attrs:{required:"",type:"text",placeholder:"Username"},domProps:{value:s.username},on:{input:function(t){t.target.composing||(s.username=t.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Password")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"input",attrs:{required:"",type:"password",placeholder:"Password"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})])]),""!=s.msg?e("article",{staticClass:"message is-danger"},[e("div",{staticClass:"message-body is-danger"},[s._v(s._s(s.msg))])]):s._e(),s._m(0),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Don't yet have an account?")]),e("div",{staticClass:"control",staticStyle:{"text-align":"center"}},[e("button",{staticClass:"button is-link is-light",on:{click:function(t){t.preventDefault(),s.newUserActive=!0}}},[s._v("Register here")])])])])])])])],1)},i=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"field"},[e("div",{staticClass:"control",staticStyle:{"text-align":"center"}},[e("button",{staticClass:"button is-link",attrs:{type:"submit"}},[s._v("Login")])])])}],n=e("4360"),r=e("a18c"),l=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"box",attrs:{id:"register"}},[e("h1",{staticClass:"title"},[s._v("Register")]),e("hr"),e("form",{staticStyle:{"text-align":"left"},on:{submit:function(t){return t.preventDefault(),s.addNewUser()}}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Username")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.user,expression:"user"}],staticClass:"input",attrs:{required:"",type:"text",placeholder:"Username"},domProps:{value:s.user},on:{input:function(t){t.target.composing||(s.user=t.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("E-mail")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"john@example.com"},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Password")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.pass,expression:"pass"}],staticClass:"input",attrs:{required:"",type:"password",placeholder:"Password"},domProps:{value:s.pass},on:{input:function(t){t.target.composing||(s.pass=t.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[s._v("Confirm password")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.confirm_pass,expression:"confirm_pass"}],staticClass:"input",attrs:{required:"",type:"password",placeholder:"Confirm password"},domProps:{value:s.confirm_pass},on:{input:function(t){t.target.composing||(s.confirm_pass=t.target.value)}}})])]),""!=s.msg?e("article",{staticClass:"message is-danger"},[e("div",{staticClass:"message-body is-danger"},[s._v(s._s(s.msg))])]):s._e(),e("div",{staticClass:"field is-grouped is-grouped-centered"},[s._m(0),e("div",{staticClass:"control"},[e("button",{staticClass:"button is-link is-light",attrs:{type:"reset"},on:{click:function(t){return t.preventDefault(),s.$emit("close")}}},[s._v("Cancel")])])])])])},o=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"control"},[e("button",{staticClass:"button is-link",attrs:{type:"submit"}},[s._v("Register")])])}],c=e("56d7"),u={name:"NewUser",data:function(){return{user:String(),email:String(),pass:String(),confirm_pass:String(),msg:String()}},methods:{addNewUser:function(){var s=this,t=this.user,e=this.email,a=this.pass,i=this.confirm_pass;if(a==i){var n=Object();""!=t&&(n.username=t),""!=e&&(n.email=e),""!=a&&(n.password=a);var r={method:"post",url:"/users",data:n};Object(c["default"])(r).then((function(){window.location.reload()})).catch((function(t){s.msg=t.response.data}))}else this.msg="Passwords do not match"}}},d=u,m=e("2877"),p=Object(m["a"])(d,l,o,!1,null,null,null),v=p.exports,f=e("714b"),g={name:"LoginView",components:{NewUser:v,Modal:f["a"]},data:function(){return{username:String(),password:String(),msg:String(),newUserActive:!1}},created:function(){void 0!==this.$route.query.deleted&&(this.msg="Your account has been deleted")},methods:{userLogin:function(){var s=this,t=this.username,e=this.password,a={url:"/users",auth:{username:t,password:e}};Object(c["default"])(a).then((function(s){200==s.status&&(n["a"].commit("setUser",t),n["a"].commit("setPassword",e),n["a"].commit("setAuthorized","true"),r["a"].push("/home"))})).catch((function(a){n["a"].commit("setUser",t),n["a"].commit("setPassword",e),n["a"].commit("setAuthorized","false"),s.msg=a.response.data}))}}},C=g,h=(e("262f"),Object(m["a"])(C,a,i,!1,null,"4076842e",null));t["default"]=h.exports},"7cc9":function(s,t,e){}}]);
//# sourceMappingURL=chunk-5d921f90.afae84fe.js.map