(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6836868c"],{4938:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-desktop"},[s("div",{staticClass:"column is-4 is-offset-4"},[s("div",{staticClass:"box"},[e.deleteActive?s("ConfirmDialog",{attrs:{message:e.deleteMessage},on:{confirm:function(t){return e.deleteUser()},deny:function(t){e.deleteActive=!1}}}):e._e(),s("h1",{staticClass:"title"},[e._v("Edit your account")]),s("form",{staticStyle:{"text-align":"left"},on:{submit:function(t){return t.preventDefault(),e.editUser()}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Username: "+e._s(e.username))]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_username,expression:"new_username"}],staticClass:"input",attrs:{placeholder:"New username"},domProps:{value:e.new_username},on:{input:function(t){t.target.composing||(e.new_username=t.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Email: "+e._s(e.email))]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_email,expression:"new_email"}],staticClass:"input",attrs:{placeholder:"New email"},domProps:{value:e.new_email},on:{input:function(t){t.target.composing||(e.new_email=t.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Password")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_password,expression:"new_password"}],staticClass:"input",attrs:{placeholder:"New password",type:"password"},domProps:{value:e.new_password},on:{input:function(t){t.target.composing||(e.new_password=t.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Confirm assword")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm_password,expression:"confirm_password"}],staticClass:"input",attrs:{placeholder:"Confirm password",type:"password"},domProps:{value:e.confirm_password},on:{input:function(t){t.target.composing||(e.confirm_password=t.target.value)}}})])]),""!=e.msg?s("article",{staticClass:"message is-danger"},[s("div",{staticClass:"message-body is-danger"},[e._v(e._s(e.msg))])]):e._e(),e._m(0)]),s("br"),e._m(1),s("div",{staticClass:"field"},[s("div",{staticClass:"control",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"button is-danger",on:{click:function(t){e.deleteActive=!0}}},[e._v("Click here")])])])],1)])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"field"},[s("div",{staticClass:"control",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"button is-link",attrs:{type:"submit"}},[e._v("Submit")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"field"},[s("div",{staticClass:"control",staticStyle:{"text-align":"center"}},[s("p",[e._v("Would you like to delete your account?")])])])}],n=s("4360"),r=s("a18c"),o=s("96ec"),l=s("56d7"),c={name:"AccountView",components:{ConfirmDialog:o["a"]},data:function(){return{username:String(),email:String(),new_username:String(),new_email:String(),new_password:String(),confirm_password:String(),msg:String(),deleteActive:!1,deleteMessage:"Are you sure you want to delete your account?"}},methods:{editUser:function(){var e=this,t=this.new_username,s=this.new_email,a=this.new_password,i=this.confirm_password;if(a==i){var r=n["a"].getters.user,o=n["a"].getters.password,c=Object();""!=t&&(c.username=t),""!=s&&(c.email=s),""!=a&&(c.password=a);var d={method:"put",url:"/users",auth:{username:r,password:o},data:c};Object(l["default"])(d).then((function(t){e.username=t.data.username,e.email=t.data.email,Object.prototype.hasOwnProperty.call(c,"password")&&(n["a"].commit("setAuthorized",!1),window.location.reload()),n["a"].commit("setUser",e.username)})).catch((function(t){e.msg=t.response.data}))}else this.msg="Passwords do not match"},deleteUser:function(){var e=n["a"].getters.user,t=n["a"].getters.password,s={method:"delete",url:"/users",auth:{username:e,password:t}};Object(l["default"])(s).then((function(){n["a"].commit("setAuthorized",!1),n["a"].commit("setUser",""),n["a"].commit("setPassword",""),r["a"].push("/login?deleted"),window.location.reload()})).catch((function(){}))}},mounted:function(){var e=this,t=n["a"].getters.user,s=n["a"].getters.password,a={method:"get",url:"/users",auth:{username:t,password:s}};Object(l["default"])(a).then((function(t){var s=t.data;e.username=s.username,e.email=s.email}))}},d=c,u=s("2877"),m=Object(u["a"])(d,a,i,!1,null,null,null);t["default"]=m.exports},"96ec":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal is-active"},[s("div",{staticClass:"modal-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"message is-danger"},[s("div",{staticClass:"message-header"},[e._v("Confirmation needed")]),s("div",{staticClass:"message-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control",staticStyle:{"text-align":"center"}},[e._v(e._s(e.message))])]),s("div",{staticClass:"field is-grouped is-grouped-centered"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-danger is-light",on:{click:function(t){return e.$emit("confirm")}}},[e._v("Yes")])]),s("div",{staticClass:"control"},[s("button",{staticClass:"button is-danger",on:{click:function(t){return e.$emit("deny")}}},[e._v("No")])])])])])])])},i=[],n={name:"ConfirmDialog",props:{message:String}},r=n,o=s("2877"),l=Object(o["a"])(r,a,i,!1,null,"7e739ef2",null);t["a"]=l.exports}}]);
//# sourceMappingURL=chunk-6836868c.97160efe.js.map